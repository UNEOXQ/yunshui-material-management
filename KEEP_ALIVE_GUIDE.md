# Render Keep-Alive é˜²ä¼‘çœ æŒ‡å—

## æ¦‚è¿°

Render å…è²»ç‰ˆæœå‹™æœƒåœ¨ 15 åˆ†é˜ç„¡æ´»å‹•å¾Œè‡ªå‹•ä¼‘çœ ã€‚é€™å€‹ Keep-Alive ç³»çµ±é€šéå®šæœŸç™¼é€ ping è«‹æ±‚ä¾†ä¿æŒæœå‹™æ´»èºï¼Œé˜²æ­¢è‡ªå‹•ä¼‘çœ ã€‚

## åŠŸèƒ½ç‰¹é»

- âœ… **è‡ªå‹• ping**: æ¯ 5 åˆ†é˜è‡ªå‹•ç™¼é€å¥åº·æª¢æŸ¥è«‹æ±‚
- âœ… **æ™ºèƒ½é‡è©¦**: å¤±æ•—æ™‚è‡ªå‹•é‡è©¦ï¼Œæœ€å¤š 3 æ¬¡
- âœ… **ç”Ÿç”¢ç’°å¢ƒå°ˆç”¨**: åªåœ¨ç”Ÿç”¢ç’°å¢ƒï¼ˆRenderï¼‰å•Ÿç”¨
- âœ… **ç‹€æ…‹ç›£æ§**: æä¾›è©³ç´°çš„é‹è¡Œç‹€æ…‹å’Œçµ±è¨ˆä¿¡æ¯
- âœ… **å¤šç¨®å¯¦ç¾**: å…§å»ºæœå‹™ + å¤–éƒ¨è…³æœ¬é›™é‡ä¿éšœ

## å¯¦ç¾æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šå…§å»º Keep-Alive æœå‹™ï¼ˆæ¨è–¦ï¼‰

å¾Œç«¯æœå‹™å™¨è‡ªå‹•é›†æˆçš„ keep-alive åŠŸèƒ½ï¼Œç„¡éœ€é¡å¤–é…ç½®ã€‚

**ç‰¹é»ï¼š**
- è‡ªå‹•å•Ÿå‹•ï¼Œç„¡éœ€æ‰‹å‹•å¹²é 
- èˆ‡ä¸»æœå‹™é›†æˆï¼Œè³‡æºæ¶ˆè€—æœ€å°
- åªåœ¨ç”Ÿç”¢ç’°å¢ƒå•Ÿç”¨

**ç‹€æ…‹æª¢æŸ¥ï¼š**
```bash
# æª¢æŸ¥å¥åº·ç‹€æ…‹ï¼ˆåŒ…å« keep-alive ä¿¡æ¯ï¼‰
curl https://your-app.onrender.com/health

# æª¢æŸ¥ keep-alive å°ˆç”¨ç‹€æ…‹
curl https://your-app.onrender.com/api/keep-alive/status
```

### æ–¹æ¡ˆäºŒï¼šå¤–éƒ¨ Keep-Alive è…³æœ¬

ç¨ç«‹é‹è¡Œçš„ ping è…³æœ¬ï¼Œå¯åœ¨æœ¬åœ°æˆ–å…¶ä»–æœå‹™å™¨é‹è¡Œã€‚

#### Node.js ç‰ˆæœ¬

```bash
# åŸºæœ¬ä½¿ç”¨
node keep-render-alive.js https://your-app.onrender.com

# ä½¿ç”¨ç’°å¢ƒè®Šæ•¸
set RENDER_URL=https://your-app.onrender.com
node keep-render-alive.js

# ä½¿ç”¨æ‰¹è™•ç†æ–‡ä»¶
start-keep-alive.bat https://your-app.onrender.com
```

#### PowerShell ç‰ˆæœ¬

```powershell
# åŸºæœ¬ä½¿ç”¨
.\keep-render-alive.ps1 -Url "https://your-app.onrender.com"

# è‡ªå®šç¾©åƒæ•¸
.\keep-render-alive.ps1 -Url "https://your-app.onrender.com" -IntervalMinutes 3 -MaxRetries 5

# ä½¿ç”¨ç’°å¢ƒè®Šæ•¸
$env:RENDER_URL="https://your-app.onrender.com"
.\keep-render-alive.ps1
```

## é…ç½®é¸é …

### ç’°å¢ƒè®Šæ•¸

åœ¨ Render æœå‹™ä¸­è¨­ç½®ä»¥ä¸‹ç’°å¢ƒè®Šæ•¸ï¼š

```bash
# Keep-alive ç›®æ¨™ URLï¼ˆå¯é¸ï¼Œè‡ªå‹•æª¢æ¸¬ï¼‰
RENDER_EXTERNAL_URL=https://your-app.onrender.com

# åŸºç¤ URLï¼ˆå‚™ç”¨ï¼‰
BASE_URL=https://your-app.onrender.com
```

### é…ç½®æ–‡ä»¶

ç·¨è¼¯ `keep-alive-config.json` ä¾†è‡ªå®šç¾©è¨­ç½®ï¼š

```json
{
  "render": {
    "url": "https://your-app.onrender.com",
    "pingInterval": 5,        // ping é–“éš”ï¼ˆåˆ†é˜ï¼‰
    "maxRetries": 3,          // æœ€å¤§é‡è©¦æ¬¡æ•¸
    "timeout": 10             // è«‹æ±‚è¶…æ™‚ï¼ˆç§’ï¼‰
  }
}
```

## æ¸¬è©¦å’Œç›£æ§

### åŠŸèƒ½æ¸¬è©¦

```powershell
# é‹è¡Œå®Œæ•´æ¸¬è©¦ï¼ˆ2åˆ†é˜ï¼‰
.\test-keep-alive.ps1 -Url "https://your-app.onrender.com"

# å»¶é•·æ¸¬è©¦æ™‚é–“
.\test-keep-alive.ps1 -Url "https://your-app.onrender.com" -TestDuration 10
```

### ç›£æ§æŒ‡æ¨™

Keep-alive æœå‹™æä¾›ä»¥ä¸‹ç›£æ§ä¿¡æ¯ï¼š

- **é‹è¡Œç‹€æ…‹**: æœå‹™æ˜¯å¦æ­£åœ¨é‹è¡Œ
- **ping é–“éš”**: ç•¶å‰è¨­ç½®çš„ ping é »ç‡
- **æˆåŠŸç‡**: ping è«‹æ±‚çš„æˆåŠŸç‡
- **éŸ¿æ‡‰æ™‚é–“**: å¹³å‡éŸ¿æ‡‰æ™‚é–“
- **éŒ¯èª¤æ—¥èªŒ**: å¤±æ•—è«‹æ±‚çš„è©³ç´°ä¿¡æ¯

## éƒ¨ç½²æ­¥é©Ÿ

### 1. å¾Œç«¯éƒ¨ç½²

å…§å»ºçš„ keep-alive æœå‹™æœƒè‡ªå‹•å•Ÿå‹•ï¼Œç„¡éœ€é¡å¤–é…ç½®ã€‚

### 2. å¤–éƒ¨è…³æœ¬éƒ¨ç½²ï¼ˆå¯é¸ï¼‰

å¦‚æœéœ€è¦é¡å¤–ä¿éšœï¼Œå¯ä»¥åœ¨æœ¬åœ°æˆ–å…¶ä»–æœå‹™å™¨é‹è¡Œå¤–éƒ¨è…³æœ¬ï¼š

```bash
# 1. ä¸‹è¼‰è…³æœ¬æ–‡ä»¶
# keep-render-alive.js
# keep-render-alive.ps1
# start-keep-alive.bat

# 2. è¨­ç½®ç›®æ¨™ URL
set RENDER_URL=https://your-app.onrender.com

# 3. å•Ÿå‹•æœå‹™
node keep-render-alive.js
# æˆ–
.\keep-render-alive.ps1
# æˆ–
start-keep-alive.bat
```

### 3. é©—è­‰éƒ¨ç½²

```bash
# æª¢æŸ¥æœå‹™ç‹€æ…‹
curl https://your-app.onrender.com/health

# æŸ¥çœ‹ keep-alive ç‹€æ…‹
curl https://your-app.onrender.com/api/keep-alive/status
```

## æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

1. **æœå‹™ä»ç„¶ä¼‘çœ **
   - æª¢æŸ¥ ping é–“éš”æ˜¯å¦å°æ–¼ 15 åˆ†é˜
   - ç¢ºèªå¥åº·æª¢æŸ¥ç«¯é»æ­£å¸¸å·¥ä½œ
   - æŸ¥çœ‹æœå‹™å™¨æ—¥èªŒç¢ºèª keep-alive æœå‹™å·²å•Ÿå‹•

2. **ping è«‹æ±‚å¤±æ•—**
   - æª¢æŸ¥ URL æ˜¯å¦æ­£ç¢º
   - ç¢ºèªç¶²çµ¡é€£æ¥æ­£å¸¸
   - æª¢æŸ¥é˜²ç«ç‰†è¨­ç½®

3. **å…§å»ºæœå‹™æœªå•Ÿå‹•**
   - ç¢ºèª NODE_ENV=production
   - æª¢æŸ¥æœå‹™å™¨å•Ÿå‹•æ—¥èªŒ
   - é©—è­‰ä¾è³´é …æ˜¯å¦æ­£ç¢ºå®‰è£

### æ—¥èªŒæª¢æŸ¥

```bash
# æŸ¥çœ‹æœå‹™å™¨æ—¥èªŒï¼ˆRender æ§åˆ¶å°ï¼‰
# å°‹æ‰¾ä»¥ä¸‹é—œéµä¿¡æ¯ï¼š
# "ğŸ”„ å•Ÿå‹• Keep-Alive æœå‹™..."
# "âœ… Keep-alive service started successfully"
# "ğŸ“ Keep-alive ping successful"
```

## æœ€ä½³å¯¦è¸

1. **é›™é‡ä¿éšœ**: ä½¿ç”¨å…§å»ºæœå‹™ + å¤–éƒ¨è…³æœ¬
2. **ç›£æ§å‘Šè­¦**: å®šæœŸæª¢æŸ¥ keep-alive ç‹€æ…‹
3. **æ—¥èªŒè¨˜éŒ„**: ä¿ç•™ ping è«‹æ±‚çš„æ­·å²è¨˜éŒ„
4. **è³‡æºå„ªåŒ–**: é¿å…éæ–¼é »ç¹çš„ ping è«‹æ±‚
5. **éŒ¯èª¤è™•ç†**: å¯¦ç¾å®Œå–„çš„é‡è©¦å’ŒéŒ¯èª¤æ¢å¾©æ©Ÿåˆ¶

## æ³¨æ„äº‹é …

- Keep-alive åªåœ¨ç”Ÿç”¢ç’°å¢ƒå•Ÿç”¨ï¼Œé–‹ç™¼ç’°å¢ƒæœƒè‡ªå‹•è·³é
- éæ–¼é »ç¹çš„ ping å¯èƒ½è¢«è¦–ç‚ºæ¿«ç”¨ï¼Œå»ºè­°é–“éš”ä¸å°‘æ–¼ 3 åˆ†é˜
- å¤–éƒ¨è…³æœ¬éœ€è¦ç©©å®šçš„ç¶²çµ¡é€£æ¥å’Œé‹è¡Œç’°å¢ƒ
- å®šæœŸæª¢æŸ¥ Render çš„æœå‹™æ”¿ç­–è®ŠåŒ–

## æ”¯æ´

å¦‚æœé‡åˆ°å•é¡Œï¼Œè«‹æª¢æŸ¥ï¼š

1. æœå‹™å™¨å¥åº·ç‹€æ…‹ï¼š`/health`
2. Keep-alive ç‹€æ…‹ï¼š`/api/keep-alive/status`
3. æœå‹™å™¨æ—¥èªŒä¸­çš„ keep-alive ç›¸é—œä¿¡æ¯
4. ç¶²çµ¡é€£æ¥å’Œ DNS è§£æ