# 實作計劃

- [x] 1. 建立專案結構和核心介面





  - 創建前後端專案目錄結構
  - 設定TypeScript配置和基礎依賴
  - 定義核心資料模型介面和類型
  - _需求: 1.1, 2.1, 3.1_



- [x] 2. 實作資料庫層和模型





-

- [x] 2.1 設計和創建資料庫架構















  - 實作PostgreSQL資料庫遷移腳本
  - 創建Users、Materials、Orders、Projects、StatusUpdates表
  - 設定資料庫連線和ORM配置
  - _需求: 1.1, 1.2, 4.1_
-

- [x] 2.2 實作資料模型和驗證






  - 創建User、Material、Order、Project、StatusUpdate模型類別
  - 實作資料驗證邏輯和約束
  - _需求: 1.2, 2.3, 3.3_

- [x] 2.3 撰寫資料模型單元測試







  - 創建模型驗證測試
  - 撰寫資料庫操作測試
  - _需求: 1.1, 2.1, 3.1_
- [x] 3. 實作認證和授權系統















- [ ] 3. 實作認證和授權系統

- [x] 3.1 建立JWT認證服務






  - 實作JWT token生成和驗證邏輯
  - 創建密碼加密和驗證功能
  - 實作登入和登出API端點
  - _需求: 1.1, 1.2_

- [x] 3.2 實作角色權限中介軟體


  - 創建權限檢查中介軟體
  - 實作角色基礎存取控制(RBAC)
  - _需求: 1.3, 1.4, 1.5, 1.6_

- [x] 3.3 撰寫認證系統測試






  - 創建JWT功能測試
  - 撰寫權限控制測試
  - _需求: 1.1, 1.2_

- [x] 4. 實作使用者管理功能

- [x] 4.1 創建使用者CRUD API



  - 實作使用者創建、讀取、更新、刪除端點
  - 實作使用者角色指定功能
  - _需求: 1.2, 1.6_
- [x] 4.2 實作使用者管理前端介面

  - 創建管理員使用者管理頁面
  - 實作使用者創建和編輯表單
  - _需求: 1.2, 1.6_

- [x] 5. 實作材料管理系統


- [x] 5.1 創建材料CRUD API




  - 實作材料創建、讀取、更新、刪除端點
  - 實作材料分類和搜尋功能
  - _需求: 4.1, 4.2, 4.3_

- [x] 5.2 實作檔案上傳服務




  - 創建圖片上傳API端點
  - 實作檔案驗證和儲存邏輯
  - 設定檔案存取路徑
  - _需求: 4.2, 4.3_

- [x] 5.3 實作材料管理前端介面




  - 創建材料列表和編輯頁面
  - 實作圖片上傳組件
  - 創建材料搜尋和篩選功能
  - _需求: 4.1, 4.2, 4.3_

- [x] 6. 實作輔材訂單系統


- [x] 6.1 創建輔材選擇介面




  - 實作材料種類選擇浮窗
  - 創建材料展示卡片組件
  - 實作購物車功能
  - _需求: 2.1, 2.2, 2.3_

- [x] 6.2 實作輔材訂單API








  - 創建訂單創建和管理端點
  - 實作訂單項目處理邏輯
  - _需求: 2.4, 2.5_

- [x] 6.3 撰寫輔材訂單測試







  - 創建訂單流程測試
  - 撰寫API端點測試
  - _需求: 2.1, 2.4_

- [x] 7. 實作完成材訂單系統


- [x] 7.1 創建完成材選擇介面




  - 實作包含供應商資訊的材料展示
  - 創建完成材專用的選擇浮窗
  - 實作供應商篩選功能
  - _需求: 3.1, 3.2, 3.3_

- [x] 7.2 實作完成材訂單API











  - 擴展訂單API支援供應商資訊
  - 實作完成材特有的業務邏輯
  - _需求: 3.4, 3.5_


- [x] 7.3 撰寫完成材訂單測試







  - 創建完成材訂單流程測試
  - 撰寫供應商相關功能測試
  - _需求: 3.1, 3.4_

- [x] 8. 實作專案狀態管理系統



- [x] 8.1 創建狀態更新API




  - 實作四個狀態欄的更新端點
  - 實作狀態變更歷史記錄
  - 創建狀態驗證邏輯
  - _需求: 5.1, 5.4, 6.1, 6.4, 7.1, 7.3, 8.1, 8.3_

- [x] 8.2 實作叫貨狀態管理介面




  - 創建叫貨狀態下拉選單組件
  - 實作條件式第二層選單邏輯
  - _需求: 5.1, 5.2, 5.3, 5.4_

- [x] 8.3 實作取貨狀態管理介面




  - 創建取貨狀態下拉選單組件
  - 實作Picked/Failed條件邏輯
  - _需求: 6.1, 6.2, 6.3, 6.4_

- [x] 8.4 實作到案狀態管理介面




  - 創建到案狀態選單和輸入欄位
  - 實作交付資訊表單驗證
  - _需求: 7.1, 7.2, 7.3_

- [x] 8.5 實作點收狀態管理介面




  - 創建點收狀態選單組件
  - 實作專案完成標記邏輯
  - _需求: 8.1, 8.2, 8.3, 8.4_


- [x] 9. 實作即時通訊功能


- [x] 9.1 設定WebSocket服務




  - 實作Socket.io伺服器配置
  - 創建即時狀態更新廣播
  - _需求: 5.4, 6.4, 7.4, 8.4_

- [x] 9.2 整合前端即時更新



  - 實作Socket.io客戶端連線
  - 創建即時狀態同步邏輯
  - _需求: 9.1, 9.2_

- [x] 10. 實作響應式前端佈局


- [x] 10.1 創建主要佈局組件




  - 實作響應式導航列和側邊欄
  - 創建角色基礎的頁面路由
  - _需求: 1.3, 1.4, 1.5, 9.1, 9.3_

- [x] 10.2 實作儀表板頁面




  - 創建PM、AM、倉庫管理員專用儀表板
  - 實作專案概覽和快速操作
  - _需求: 1.3, 1.4, 1.5_

- [x] 10.3 優化行動裝置體驗
















  - 實作觸控友善的介面元素
  - 優化小螢幕的佈局和導航
  - _需求: 9.3, 9.4_

- [x] 11. 實作錯誤處理和驗證


- [x] 11.1 創建全域錯誤處理




  - 實作API錯誤處理中介軟體
  - 創建前端錯誤邊界組件
  - _需求: 9.4_

- [x] 11.2 實作表單驗證




  - 創建即時表單驗證邏輯
  - 實作使用者友善的錯誤訊息
  - _需求: 2.3, 3.3, 4.3, 7.3_

- [x] 12. 系統整合和部署準備



- [x] 12.1 創建Docker配置




  - 撰寫前後端Dockerfile
  - 創建docker-compose配置
  - _需求: 9.1, 9.2_

- [x] 12.2 設定環境配置




  - 創建開發、測試、生產環境配置
  - 實作環境變數管理
  - _需求: 9.1, 9.2_

- [x] 12.3 撰寫整合測試





  - 創建端到端測試腳本
  - 撰寫API整合測試
  - _需求: 1.1, 2.1, 3.1_