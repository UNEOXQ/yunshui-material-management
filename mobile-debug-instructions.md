# 📱 手機訪問調試指南

## 🔍 **當前狀況**：
- ✅ 測試頁面：登入成功
- ❌ 主應用：顯示「無法連接到伺服器」

## 🧪 **調試步驟**：

### 1. **使用調試頁面**
手機瀏覽器打開：
```
http://192.168.68.99:3000/debug-mobile-api.html
```

這個頁面會：
- 檢測環境配置
- 測試直接API連接
- 測試登入API
- 顯示詳細的錯誤資訊

### 2. **檢查主應用API URL**
手機瀏覽器打開：
```
http://192.168.68.99:3000/
```

現在登入頁面會顯示實際使用的API URL，檢查是否正確。

### 3. **瀏覽器開發者工具**
在手機瀏覽器中：
1. 打開開發者工具（通常在設定→更多工具→開發者工具）
2. 切換到「網路」標籤
3. 嘗試登入
4. 查看失敗的請求詳情

## 🔧 **可能的問題和解決方案**：

### **問題1: 環境變數未載入**
- **症狀**: 主應用顯示API URL為 `http://localhost:3004/api`
- **解決**: 重新啟動前端服務

### **問題2: CORS問題**
- **症狀**: 瀏覽器控制台顯示CORS錯誤
- **解決**: 後端CORS配置已包含正確的來源

### **問題3: 網路連接問題**
- **症狀**: 調試頁面也無法連接API
- **解決**: 檢查防火牆設定或網路配置

### **問題4: 快取問題**
- **症狀**: 修改後沒有生效
- **解決**: 清除瀏覽器快取，強制重新整理

## 📊 **預期結果**：

### **調試頁面應該顯示**：
```
✅ http://192.168.68.99:3004/health - 成功
✅ 登入成功: admin (ADMIN)
```

### **主應用應該顯示**：
```
API URL: http://192.168.68.99:3004/api
```

## 🚀 **下一步**：

1. **先測試調試頁面** - 確認基本API連接
2. **檢查主應用API URL** - 確認環境變數載入
3. **查看瀏覽器控制台** - 獲取詳細錯誤資訊
4. **回報結果** - 告訴我具體看到什麼

---
**目標**: 找出測試頁面成功但主應用失敗的根本原因