# 移動設備訪問修復指南

## 問題描述
從 `192.168.68.95:3000` 訪問前端時，出現CORS錯誤，無法連接到後端API。

## 已完成的修復

### 1. 後端CORS配置已更新
- 在 `backend/src/server.ts` 中添加了 `http://192.168.68.95:3000` 到允許的來源列表
- CORS測試已通過 ✓

### 2. 前端環境變量已配置
- 創建了 `frontend/.env` 文件
- 設置 `VITE_API_URL=http://192.168.68.95:3004/api`

## 需要執行的步驟

### 重啟前端服務
前端需要重啟以應用新的環境變量：

```bash
# 停止當前前端進程 (Ctrl+C)
# 然後重新啟動
cd frontend
npm run dev
```

### 或使用批處理文件
```bash
# 運行重啟腳本
restart-for-mobile.bat
```

## 驗證修復

1. **訪問測試頁面**: 打開 `test-cors-fix.html` 進行測試
2. **訪問主應用**: http://192.168.68.95:3000
3. **測試快速登入**: 點擊任何快速登入按鈕

## 測試結果
- ✓ 後端健康檢查: 正常
- ✓ CORS配置: 正常  
- ✓ 登入API: 正常

## 如果仍有問題

1. 確保防火牆允許3000和3004端口
2. 確保兩個服務都在運行
3. 檢查IP地址是否正確 (當前: 192.168.68.95)

## 快速測試命令
```powershell
.\test-mobile-simple.ps1
```