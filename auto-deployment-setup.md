# ğŸš€ è‡ªå‹•éƒ¨ç½²è¨­å®š - Vercel + Railway

## ğŸ¯ **å®Œç¾çš„æ›´æ–°æµç¨‹**

```
ä¿®æ”¹ä»£ç¢¼ â†’ git push â†’ è‡ªå‹•éƒ¨ç½² â†’ 2åˆ†é˜å¾Œä¸Šç·šï¼
```

---

## ğŸ“‹ **è¨­å®šæ­¥é©Ÿ (ä¸€æ¬¡è¨­å®šï¼Œçµ‚èº«å—ç”¨)**

### **æ­¥é©Ÿ1: æº–å‚™GitHubå€‰åº«**

#### 1.1 å‰µå»ºGitHubå€‰åº«
1. å‰å¾€ [github.com](https://github.com)
2. é»æ“Š "New repository"
3. å€‰åº«åç¨±ï¼š`yunshui-material-management`
4. è¨­ç‚º Public (å…è²»æ–¹æ¡ˆéœ€è¦)

#### 1.2 ä¸Šå‚³ä»£ç¢¼
```bash
# åœ¨ä½ çš„å°ˆæ¡ˆç›®éŒ„åŸ·è¡Œ
git init
git add .
git commit -m "Initial commit"
git branch -M main
git remote add origin https://github.com/ä½ çš„ç”¨æˆ¶å/yunshui-material-management.git
git push -u origin main
```

---

### **æ­¥é©Ÿ2: éƒ¨ç½²å¾Œç«¯åˆ°Railway**

#### 2.1 è¨»å†ŠRailway
1. å‰å¾€ [railway.app](https://railway.app)
2. é»æ“Š "Login" â†’ "Login with GitHub"
3. æˆæ¬ŠRailwayè¨ªå•ä½ çš„GitHub

#### 2.2 å‰µå»ºå¾Œç«¯å°ˆæ¡ˆ
1. é»æ“Š "New Project"
2. é¸æ“‡ "Deploy from GitHub repo"
3. é¸æ“‡ä½ çš„ `yunshui-material-management` å€‰åº«
4. é¸æ“‡ `backend` è³‡æ–™å¤¾

#### 2.3 é…ç½®ç’°å¢ƒè®Šæ•¸
åœ¨Railwayå°ˆæ¡ˆè¨­å®šä¸­æ·»åŠ ï¼š
```env
NODE_ENV=production
PORT=3004
JWT_SECRET=your-super-secret-key-change-this
JWT_REFRESH_SECRET=your-refresh-secret-key-change-this
```

#### 2.4 ç²å–å¾Œç«¯URL
éƒ¨ç½²å®Œæˆå¾Œï¼ŒRailwayæœƒçµ¦ä½ ä¸€å€‹URLï¼Œé¡ä¼¼ï¼š
`https://backend-production-xxxx.up.railway.app`

---

### **æ­¥é©Ÿ3: éƒ¨ç½²å‰ç«¯åˆ°Vercel**

#### 3.1 è¨»å†ŠVercel
1. å‰å¾€ [vercel.com](https://vercel.com)
2. é»æ“Š "Sign Up" â†’ "Continue with GitHub"
3. æˆæ¬ŠVercelè¨ªå•ä½ çš„GitHub

#### 3.2 å‰µå»ºå‰ç«¯å°ˆæ¡ˆ
1. é»æ“Š "New Project"
2. é¸æ“‡ä½ çš„ `yunshui-material-management` å€‰åº«
3. è¨­å®šï¼š
   - **Framework Preset**: Vite
   - **Root Directory**: `frontend`
   - **Build Command**: `npm run build`
   - **Output Directory**: `dist`

#### 3.3 é…ç½®ç’°å¢ƒè®Šæ•¸
åœ¨Vercelå°ˆæ¡ˆè¨­å®šä¸­æ·»åŠ ï¼š
```env
VITE_API_URL=https://ä½ çš„railwayå¾Œç«¯URL/api
```

---

## ğŸ”§ **æº–å‚™éƒ¨ç½²é…ç½®æ–‡ä»¶**

è®“æˆ‘ç‚ºä½ å‰µå»ºå¿…è¦çš„é…ç½®æ–‡ä»¶ï¼š

### **backend/package.json** (ç¢ºä¿æœ‰é€™äº›è…³æœ¬)
```json
{
  "scripts": {
    "start": "node dist/server.js",
    "build": "tsc",
    "dev": "nodemon src/server.ts"
  }
}
```

### **frontend/package.json** (ç¢ºä¿æœ‰é€™äº›è…³æœ¬)
```json
{
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview"
  }
}
```

---

## âš¡ **è‡ªå‹•éƒ¨ç½²çš„é­”æ³•**

### **è¨­å®šå®Œæˆå¾Œï¼Œä½ çš„å·¥ä½œæµç¨‹ï¼š**

#### ğŸ”„ **æ—¥å¸¸æ›´æ–°æµç¨‹**
```bash
# 1. ä¿®æ”¹ä»£ç¢¼ (åœ¨VS Codeæˆ–ä»»ä½•ç·¨è¼¯å™¨)
# 2. æäº¤æ›´æ”¹
git add .
git commit -m "ä¿®å¾©è¨‚å–®ç‹€æ…‹é¡¯ç¤ºå•é¡Œ"
git push

# 3. ğŸ‰ è‡ªå‹•ç™¼ç”Ÿï¼š
# - Railway è‡ªå‹•é‡æ–°éƒ¨ç½²å¾Œç«¯ (2åˆ†é˜)
# - Vercel è‡ªå‹•é‡æ–°éƒ¨ç½²å‰ç«¯ (1åˆ†é˜)
# - ç”¨æˆ¶çœ‹åˆ°æœ€æ–°ç‰ˆæœ¬ï¼
```

#### ğŸ“± **å³æ™‚é è¦½**
- **å‰ç«¯**: æ¯æ¬¡pushéƒ½æœƒç”Ÿæˆé è¦½URL
- **å¾Œç«¯**: è‡ªå‹•é‡å•Ÿï¼Œç«‹å³ç”Ÿæ•ˆ
- **å›æ»¾**: ä¸€éµå›åˆ°ä¸Šä¸€ç‰ˆæœ¬

---

## ğŸ¯ **ç‚ºä»€éº¼é€™å€‹æ–¹æ¡ˆæœ€é©åˆä½ ï¼Ÿ**

### âœ… **è¶…ç´šç°¡å–®æ›´æ–°**
- ä¸éœ€è¦SSHé€£æ¥ä¼ºæœå™¨
- ä¸éœ€è¦æ‰‹å‹•ä¸Šå‚³æ–‡ä»¶
- ä¸éœ€è¦é‡å•Ÿæœå‹™

### âœ… **å¿«é€Ÿéƒ¨ç½²**
- å‰ç«¯ï¼š1-2åˆ†é˜
- å¾Œç«¯ï¼š2-3åˆ†é˜
- ç¸½è¨ˆï¼š3-5åˆ†é˜å°±èƒ½çœ‹åˆ°æ›´æ–°

### âœ… **å®‰å…¨å¯é **
- è‡ªå‹•SSLæ†‘è­‰
- CDNåŠ é€Ÿ
- è‡ªå‹•å‚™ä»½

### âœ… **å…è²»é–‹å§‹**
- Vercelï¼šå€‹äººä½¿ç”¨å…è²»
- Railwayï¼šæ¯æœˆ$5 (500å°æ™‚å…è²»)

---

## ğŸš€ **èˆ‡å…¶ä»–æ–¹æ¡ˆæ¯”è¼ƒ**

### **VPSæ–¹æ¡ˆçš„æ›´æ–°æµç¨‹** (è¤‡é›œ)
```bash
# 1. SSHé€£æ¥ä¼ºæœå™¨
ssh user@your-server.com

# 2. æ‹‰å–æœ€æ–°ä»£ç¢¼
git pull origin main

# 3. é‡æ–°å»ºç½®
npm run build

# 4. é‡å•Ÿæœå‹™
pm2 restart all

# 5. æª¢æŸ¥æ˜¯å¦æ­£å¸¸
# ç¸½æ™‚é–“ï¼š10-15åˆ†é˜ï¼Œé‚„å¯èƒ½å‡ºéŒ¯
```

### **Vercel + Railwayçš„æ›´æ–°æµç¨‹** (ç°¡å–®)
```bash
git push
# å®Œæˆï¼ç­‰2-3åˆ†é˜å°±å¥½
```

---

## ğŸ’¡ **é¡å¤–å¥½è™•**

### **ğŸ” éƒ¨ç½²æ—¥èªŒ**
- æ¯æ¬¡éƒ¨ç½²éƒ½æœ‰è©³ç´°æ—¥èªŒ
- å‡ºéŒ¯æ™‚å¯ä»¥å¿«é€Ÿå®šä½å•é¡Œ

### **ğŸŒ å…¨çƒCDN**
- ç”¨æˆ¶è¨ªå•é€Ÿåº¦æ›´å¿«
- è‡ªå‹•å„ªåŒ–åœ–ç‰‡å’Œè³‡æº

### **ğŸ“Š ä½¿ç”¨çµ±è¨ˆ**
- å¯ä»¥çœ‹åˆ°ç¶²ç«™è¨ªå•é‡
- æ€§èƒ½ç›£æ§

### **ğŸ”„ ä¸€éµå›æ»¾**
- å¦‚æœæ–°ç‰ˆæœ¬æœ‰å•é¡Œ
- å¯ä»¥ç«‹å³å›åˆ°ä¸Šä¸€ç‰ˆæœ¬

---

## ğŸ¯ **ç¸½çµ**

**Vercel + Railway = æœ€é©åˆä½ çš„æ–¹æ¡ˆ**

- âœ… **æ›´æ–°è¶…ç°¡å–®**: git push å°±å®Œæˆ
- âœ… **é€Ÿåº¦è¶…å¿«**: 2-3åˆ†é˜å°±ä¸Šç·š
- âœ… **ä¸æœƒå¤ªé›£**: ä¸€æ¬¡è¨­å®šï¼Œçµ‚èº«å—ç”¨
- âœ… **æˆæœ¬åˆç†**: å…è²»é–‹å§‹ï¼Œ$5/æœˆ
- âœ… **å°ˆæ¥­ç´š**: å¤§å…¬å¸éƒ½åœ¨ç”¨çš„æ–¹æ¡ˆ

**ä½ æƒ³è¦æˆ‘å¹«ä½ é–‹å§‹è¨­å®šå—ï¼Ÿ** æˆ‘å¯ä»¥ä¸€æ­¥æ­¥æŒ‡å°ä½ å®Œæˆæ•´å€‹è¨­å®šéç¨‹ï¼