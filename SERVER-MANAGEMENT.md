# 🚀 雲水基材管理系統 - 服務器管理指南

## 📋 腳本文件說明

### 🎯 主要腳本

| 腳本文件 | 功能描述 | 使用場景 |
|---------|---------|---------|
| `start-servers.bat` | 啟動前後端服務器 | 開始開發或測試 |
| `stop-servers.bat` | 停止所有服務器 | 結束開發或清理進程 |
| `restart-servers.bat` | 重啟服務器 | 配置更改後重啟 |
| `check-servers.bat` | 檢查服務器狀態 | 診斷問題 |
| `dev-tools.bat` | 開發者工具選單 | 統一管理界面 |

### 🔧 舊版腳本（保留）

| 腳本文件 | 功能描述 |
|---------|---------|
| `start-system.bat` | 舊版啟動腳本 |
| `stop-system.bat` | 舊版停止腳本 |

## 🚀 快速開始

### 1. 首次使用
```bash
# 雙擊運行
start-servers.bat
```

### 2. 日常開發
```bash
# 使用開發者工具（推薦）
dev-tools.bat
```

### 3. 停止服務
```bash
# 雙擊運行
stop-servers.bat
```

## 📊 服務器信息

### 🌐 訪問地址
- **前端應用**: http://localhost:3002/
- **後端 API**: http://localhost:3004/
- **健康檢查**: http://localhost:3004/health
- **測試頁面**: frontend/test-components.html

### 🔑 演示帳號
| 角色 | 帳號 | 密碼 | 權限 |
|-----|------|------|------|
| 系統管理員 | admin | admin123 | 完整權限 |
| 專案經理 | pm001 | pm123 | 輔材訂單管理 |
| 客戶經理 | am001 | am123 | 完成材訂單管理 |
| 倉庫管理員 | warehouse001 | wh123 | 狀態管理 |

## 🛠️ 開發者工具功能

### 主選單選項
1. **🚀 啟動服務器** - 啟動前後端服務
2. **🛑 停止服務器** - 停止所有服務
3. **🔄 重啟服務器** - 重新啟動服務
4. **🔍 檢查服務器狀態** - 診斷服務狀態
5. **📦 安裝/更新依賴** - 更新 npm 依賴
6. **🧪 打開測試頁面** - 打開組件測試頁面
7. **🌐 打開應用程式** - 在瀏覽器中打開應用
8. **📝 查看日誌** - 查看服務器日誌
9. **🧹 清理緩存** - 清理構建緩存

## 🔧 故障排除

### 常見問題

#### 1. 端口被占用
```bash
# 檢查端口狀態
check-servers.bat

# 強制停止服務
stop-servers.bat
```

#### 2. 依賴問題
```bash
# 重新安裝依賴
dev-tools.bat -> 選項 5
```

#### 3. 緩存問題
```bash
# 清理緩存
dev-tools.bat -> 選項 9
```

#### 4. 服務無法啟動
1. 檢查 Node.js 是否安裝
2. 檢查端口是否被占用
3. 檢查依賴是否完整安裝
4. 查看錯誤日誌

### 🔍 診斷步驟
1. 運行 `check-servers.bat` 檢查狀態
2. 檢查命令視窗中的錯誤信息
3. 確認防火牆設置
4. 重啟服務器

## 📝 開發注意事項

### 🔄 自動重載
- 前端：支持熱重載，修改代碼自動更新
- 後端：使用 nodemon，修改代碼自動重啟

### 🗂️ 文件結構
```
雲水基材管理系統/
├── frontend/           # 前端代碼
├── backend/            # 後端代碼
├── start-servers.bat   # 啟動腳本
├── stop-servers.bat    # 停止腳本
├── dev-tools.bat       # 開發者工具
└── check-servers.bat   # 狀態檢查
```

### 🚨 重要提醒
- 開發時請保持兩個服務器都運行
- 修改環境變數後需要重啟服務器
- 定期清理緩存以避免問題
- 使用 `dev-tools.bat` 進行統一管理

## 🆘 獲取幫助

如果遇到問題：
1. 查看命令視窗中的錯誤信息
2. 運行 `check-servers.bat` 診斷
3. 檢查 Node.js 和 npm 版本
4. 確認防火牆和端口設置

---

💡 **提示**: 建議使用 `dev-tools.bat` 作為主要的管理工具，它提供了統一的操作界面。