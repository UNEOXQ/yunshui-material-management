# 雲水基材管理系統手機版 - 測試指南

## 🚀 快速啟動

### 方法1: 使用批次檔 (推薦)
```bash
cd mobile-app
start-mobile-app.bat
```

### 方法2: 使用PowerShell
```powershell
cd mobile-app
.\start-mobile-app.ps1
```

### 方法3: 手動啟動
```bash
cd mobile-app
npm install
npx expo start
```

## 📱 手機端設置

### 1. 安裝 Expo Go
- **Android**: 從 Google Play Store 下載 "Expo Go"
- **iOS**: 從 App Store 下載 "Expo Go"

### 2. 網路設置
- 確保手機和電腦連接**同一個WiFi網路**
- 如果有多個WiFi，請確認使用相同的網路

### 3. 連接應用
- **掃描QR碼**: 打開Expo Go，使用內建掃描器掃描終端顯示的QR碼
- **手動輸入**: 如果掃描失敗，可以手動輸入顯示的URL

## 🔧 測試功能

### 快速登入測試
應用啟動後，可以使用以下帳號快速登入：

| 用戶名 | 角色 | 功能權限 |
|--------|------|----------|
| Jeffrey | 專案經理 (PM) | 輔材訂單管理 |
| Miya | 區域經理 (AM) | 完成材訂單管理 |
| Mark | 倉管人員 (WAREHOUSE) | 訂單狀態管理 |
| 系統管理員 | 管理員 (ADMIN) | 所有功能 |

### 功能測試清單
- [ ] 快速登入功能
- [ ] 材料數據載入
- [ ] 輔材訂單建立
- [ ] 完成材訂單建立
- [ ] 訂單狀態查看
- [ ] 角色權限控制

## 🔍 故障排除

### 問題1: QR碼掃描失敗
**解決方案**:
1. 確認手機和電腦在同一WiFi
2. 嘗試手動輸入URL
3. 使用隧道模式: `npx expo start --tunnel`

### 問題2: 應用載入失敗
**解決方案**:
1. 檢查後端是否運行: 訪問 http://192.168.68.95:3004/api/materials
2. 清理緩存: 刪除 `.expo` 資料夾
3. 重新安裝依賴: 刪除 `node_modules` 後執行 `npm install`

### 問題3: 登入失敗
**解決方案**:
1. 確認後端API正常運行
2. 檢查網路連接
3. 嘗試使用快速登入按鈕

### 問題4: 腳本自動關閉
**解決方案**:
1. 使用PowerShell版本: `.\start-mobile-app.ps1`
2. 手動執行: `npx expo start`
3. 檢查是否有錯誤訊息

## 📊 成功指標

### 應用正常運行的標誌
- ✅ Expo開發服務器成功啟動
- ✅ 顯示QR碼和本地URL
- ✅ 手機成功掃描並載入應用
- ✅ 登入頁面正常顯示
- ✅ 快速登入功能正常
- ✅ 可以載入材料和訂單數據

## 🆘 需要幫助？

如果遇到問題，請檢查：
1. **後端狀態**: 確保 `backend/simple-server.js` 正在運行
2. **網路連接**: 手機和電腦必須在同一WiFi
3. **防火牆**: Windows防火牆可能阻擋連接
4. **Expo Go版本**: 確保使用最新版本

---

**最後更新**: 2024年10月29日  
**狀態**: 修復完成，等待測試