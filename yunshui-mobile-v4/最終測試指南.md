# 最終測試指南 - 緊湊訂單狀態管理

## 🎯 測試目標
驗證新的緊湊設計訂單狀態管理功能是否正常工作

## ✅ 當前狀態
- 後端正常運行在端口3004
- Mark (WAREHOUSE) 可以看到10個訂單
- 手機應用已實現緊湊設計界面

## 📱 立即測試步驟

### 1. 重新載入手機應用
```bash
# 在Expo Go中搖動設備
# 選擇 "Reload" 重新載入應用
# 或重新掃描QR碼
```

### 2. 登入Mark (倉管) 帳號
- 使用快速登入: **Mark**
- 密碼: `wh123`
- 角色: 倉管人員 (黃色徽章)

### 3. 檢查儀表板
- 應該看到「總訂單數: 10」
- 應該看到「📋 訂單狀態管理」功能卡片

### 4. 進入訂單狀態管理
- 點擊「📋 訂單狀態管理」
- 檢查右上角連線狀態 (🟢 已連線)
- 應該看到10個訂單的緊湊卡片列表

## 🔍 詳細測試項目

### A. 訂單卡片信息驗證
每個訂單卡片應該包含：

```
┌─────────────────────────────────────────┐
│ #id-2132              [PM輔材]          │
│ 輔材訂單 - id-2132                      │
│ 創建者: Jeffrey                         │
│                                         │
│ 材料清單 (3項):                         │
│ 螺絲釘 M6x20 x1, 電線 2.5mm² x2...     │
│ 點擊查看詳細 →                          │
│                                         │
│ [四大狀態 2x2 網格]                     │
└─────────────────────────────────────────┘
```

**檢查項目:**
- ✅ 訂單編號顯示 (藍色標題)
- ✅ 訂單類型徽章 (PM輔材 / AM完成材)
- ✅ 創建者信息顯示
- ✅ 材料清單預覽 (緊湊文字)
- ✅ 四大狀態網格 (2x2布局)

### B. 四大狀態顯示驗證
每個狀態卡片應該包含：

```
┌─────────┐ ┌─────────┐
│ [ORDER] │ │ [PICKUP]│
│ Ordered │ │ Picked  │
│Processing│ │ (B.T.W) │
└─────────┘ └─────────┘
┌─────────┐ ┌─────────┐
│[DELIVERY]│ │ [CHECK] │
│Delivered │ │ C.B/PM  │
│  14:30   │ │ ✅完成  │
└─────────┘ └─────────┘
```

**檢查項目:**
- ✅ ORDER徽章 (藍色)
- ✅ PICKUP徽章 (綠色)
- ✅ DELIVERY徽章 (黃色)
- ✅ CHECK徽章 (紅色)
- ✅ 主要狀態顯示
- ✅ 次要狀態顯示

### C. 狀態更新功能測試

#### 測試ORDER狀態更新
1. 點擊任一訂單的ORDER狀態卡片
2. 應該彈出「更新ORDER狀態」Modal
3. 檢查主要狀態選項:
   - □ 空白
   - □ Ordered
4. 檢查處理狀態選項:
   - □ Processing
   - □ waiting for pick
   - □ pending
5. 選擇狀態並點擊「更新狀態」

#### 測試PICKUP狀態更新
1. 點擊任一訂單的PICKUP狀態卡片
2. 應該彈出「更新PICKUP狀態」Modal
3. 檢查取貨狀態選項:
   - □ Picked
   - □ Failed
4. 檢查處理結果選項:
   - □ (B.T.W)
   - □ (D.T.S)
   - □ (B.T.W/MP)
   - □ (D.T.S/MP)
5. 選擇狀態並點擊「更新狀態」

#### 測試DELIVERY和CHECK狀態
- 按照相同流程測試DELIVERY和CHECK狀態更新
- 確認Modal正確彈出和選項顯示

### D. 材料詳情功能測試

#### 測試材料詳情查看
1. 點擊任一訂單的「點擊查看詳細 →」
2. 應該彈出「材料詳情」Modal
3. 檢查材料詳情卡片:
   ```
   ┌─────────────────────────────────┐
   │ 螺絲釘 M6x20        [📷]       │
   │ 數量: 1             圖片        │
   │ 單價: CAD $0.5                  │
   └─────────────────────────────────┘
   ```
4. 確認每個材料項目都有:
   - ✅ 材料名稱
   - ✅ 數量信息
   - ✅ 價格信息
   - ✅ 圖片佔位符

## 🎨 視覺效果驗證

### 顏色系統檢查
- **訂單編號**: 藍色 (#007bff)
- **ORDER徽章**: 藍色 (#007bff)
- **PICKUP徽章**: 綠色 (#28a745)
- **DELIVERY徽章**: 黃色 (#ffc107)
- **CHECK徽章**: 紅色 (#dc3545)

### 布局檢查
- ✅ 卡片圓角 (12px)
- ✅ 適當間距 (16px)
- ✅ 陰影效果
- ✅ 觸控反饋

## 🔧 功能完整性檢查

### 必須正常工作的功能
- ✅ 訂單列表顯示 (10個訂單)
- ✅ 狀態更新Modal彈出
- ✅ 材料詳情Modal彈出
- ✅ Modal關閉功能
- ✅ 滑動瀏覽功能
- ✅ 返回儀表板功能

### 數據顯示檢查
- ✅ 訂單編號正確 (id-2132等)
- ✅ 訂單類型正確 (PM輔材/AM完成材)
- ✅ 創建者信息顯示
- ✅ 材料清單預覽
- ✅ 狀態信息顯示

## 🚨 常見問題排除

### 如果看不到訂單
1. 確認Mark登入成功
2. 檢查右上角連線狀態
3. 確認後端運行在端口3004
4. 重新載入應用

### 如果狀態更新無反應
1. 確認點擊了狀態卡片 (不是徽章)
2. 檢查Modal是否彈出
3. 確認選擇了狀態選項
4. 點擊更新按鈕

### 如果材料詳情無法顯示
1. 確認點擊了「點擊查看詳細 →」
2. 檢查Modal是否彈出
3. 確認訂單有材料數據

## 🎯 成功標準

### 必須通過的測試
- ✅ 顯示10個訂單卡片
- ✅ 每個卡片包含完整信息
- ✅ 四大狀態正確顯示
- ✅ 狀態更新Modal正常彈出
- ✅ 材料詳情Modal正常彈出
- ✅ 所有顏色和布局正確

### 用戶體驗標準
- ✅ 操作流暢無卡頓
- ✅ 觸控反饋良好
- ✅ 信息顯示清晰
- ✅ Modal操作直觀

## 🎉 測試完成

如果所有測試項目都通過，那麼緊湊訂單狀態管理功能就完全實現了！

Mark現在可以：
- 📋 在一個頁面查看所有10個訂單
- 🔧 直接點擊更新四大狀態
- 📦 查看詳細的材料信息
- 👤 了解每個訂單的創建者
- 🎨 享受優化的手機端體驗

---

**測試指南版本**: v1.0  
**測試日期**: 2024年10月30日  
**預期結果**: 所有功能正常工作